--- bin/ls/ls.1.orig	2015-12-29 08:18:18 UTC
+++ bin/ls/ls.1
@@ -30,9 +30,9 @@
 .\" SUCH DAMAGE.
 .\"
 .\"     @(#)ls.1	8.7 (Berkeley) 7/29/94
-.\" $FreeBSD: releng/10.1/bin/ls/ls.1 254627 2013-08-21 23:04:48Z ken $
+.\" $FreeBSD: head/bin/ls/ls.1 291607 2015-12-01 19:18:53Z rodrigc $
 .\"
-.Dd March 15, 2013
+.Dd December 1, 2015
 .Dt LS 1
 .Os
 .Sh NAME
@@ -40,6 +40,7 @@
 .Nd list directory contents
 .Sh SYNOPSIS
 .Nm
+.Op Fl -libxo
 .Op Fl ABCFGHILPRSTUWZabcdfghiklmnopqrstuwxy1,
 .Op Fl D Ar format
 .Op Ar
@@ -68,6 +69,13 @@ lexicographical order.
 .Pp
 The following options are available:
 .Bl -tag -width indent
+.It Fl -libxo
+Generate output via
+.Xr libxo 3
+in a selection of different human and machine readable formats.
+See
+.Xr xo_parse_args 3
+for details on command line arguments.
 .It Fl A
 Include directory entries whose names begin with a
 dot
@@ -87,6 +95,8 @@ and current locale settings) in file nam
 where
 .Va xxx
 is the numeric value of the character in octal.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl C
 Force multi-column output; this is the default when output is to a terminal.
 .It Fl D Ar format
@@ -104,6 +114,8 @@ different number of columns in the outpu
 This option overrides the
 .Fl T
 option.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl F
 Display a slash
 .Pq Ql /
@@ -132,6 +144,8 @@ in the environment.
 (See below.)
 This functionality can be compiled out by removing the definition of
 .Ev COLORLS .
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl H
 Symbolic links on the command line are followed.
 This option is assumed if
@@ -144,6 +158,8 @@ options are specified.
 Prevent
 .Fl A
 from being automatically set for the super-user.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl L
 If argument is a symbolic link, list the file or directory the link references
 rather than the link itself.
@@ -171,13 +187,21 @@ month, day, hour, minute, second, and ye
 The
 .Fl D
 option gives even more control over the output format.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl U
 Use time when file was created for sorting or printing.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl W
 Display whiteouts when scanning directories.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl Z
 Display each file's MAC label; see
 .Xr maclabel 7 .
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl a
 Include directory entries whose names begin with a
 dot
@@ -188,25 +212,48 @@ As
 but use
 .Tn C
 escape codes whenever possible.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl c
 Use time when file status was last changed for sorting or printing.
 .It Fl d
 Directories are listed as plain files (not searched recursively).
 .It Fl f
 Output is not sorted.
+This option turns on
+.Fl a .
+It also negates the effect of the
+.Fl r ,
+.Fl S
+and
+.Fl t
+options.
+As allowed by
+.St -p1003.1-2001 ,
+this option has no effect on the
+.Fl d ,
+.Fl l ,
+.Fl R
+and
+.Fl s
+options.
 .It Fl g
-This option is deprecated and is only available for compatibility
-with
-.Bx 4.3 ;
-it was used to display the group name in the long
+This option has no effect.
+It is only available for compatibility with
+.Bx 4.3 ,
+where it was used to display the group name in the long
 .Pq Fl l
 format output.
+This option is incompatible with
+.St -p1003.1-2001 .
 .It Fl h
 When used with the
 .Fl l
 option, use unit suffixes: Byte, Kilobyte, Megabyte, Gigabyte, Terabyte
 and Petabyte in order to reduce the number of digits to four or fewer
 using base 2 for sizes.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl i
 For each file, print the file's file serial number (inode number).
 .It Fl k
@@ -232,6 +279,8 @@ output.
 Include the file flags in a long
 .Pq Fl l
 output.
+This option is incompatible with
+.St -p1003.1-2001 .
 See
 .Xr chflags 1
 for a list of file flags and their meanings.
@@ -254,9 +303,9 @@ subsection below, except (if the long fo
 the directory totals are not output when the output is in a
 single column, even if multi-column output is requested.
 .It Fl t
-Sort by descending time modified (most recently modified first).  If two files
-have the same modification timestamp, sort their names in ascending
-lexicographical order.
+Sort by descending time modified (most recently modified first).
+If two files have the same modification timestamp, sort their names
+in ascending lexicographical order.
 The
 .Fl r
 option reverses both of these sort orders.
@@ -278,7 +327,7 @@ or use the
 option.
 This causes
 .Nm
-to reverse the lexicographal sort order when sorting files with the
+to reverse the lexicographical sort order when sorting files with the
 same modification timestamp.
 .It Fl u
 Use time of last access,
@@ -291,6 +340,8 @@ or printing
 Force raw printing of non-printable characters.
 This is the default
 when output is not to a terminal.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl x
 The same as
 .Fl C ,
@@ -305,6 +356,8 @@ This has the same effect as setting
 See the description of the
 .Fl t
 option for more details.
+This option is not defined in
+.St -p1003.1-2001 .
 .It Fl 1
 (The numeric digit
 .Dq one . )
@@ -321,6 +374,8 @@ non-monetary separator returned by
 typically a comma or period.
 If no locale is set, or the locale does not have a non-monetary separator, this
 option has no effect.
+This option is not defined in
+.St -p1003.1-2001 .
 .El
 .Pp
 The
@@ -750,9 +805,11 @@ specification.
 .Xr getfacl 1 ,
 .Xr sort 1 ,
 .Xr xterm 1 ,
+.Xr libxo 3 ,
 .Xr localeconv 3 ,
 .Xr strftime 3 ,
 .Xr strmode 3 ,
+.Xr xo_parse_args 3 ,
 .Xr termcap 5 ,
 .Xr maclabel 7 ,
 .Xr sticky 7 ,
@@ -760,13 +817,19 @@ specification.
 .Xr getfmac 8
 .Sh STANDARDS
 With the exception of options
-.Fl I , g , n
+.Fl g , n
 and
 .Fl o ,
 the
 .Nm
 utility conforms to
 .St -p1003.1-2001 .
+The options
+.Fl B , D , G , I , T , U , W , Z , b , h , w , y
+and
+.Fl ,
+are compatible extensions not defined in
+.St -p1003.1-2001 .
 .Pp
 The ACL support is compatible with
 .Tn IEEE
